!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var o=function(){var e=document.querySelector(".menu"),t=document.querySelector("menu"),n=document.querySelector(".close-btn"),o=t.querySelectorAll("ul>li"),r=function(){t.classList.toggle("active-menu")};e.addEventListener("click",r),t.addEventListener("click",(function(){var e=event.target;e===n&&r();for(var t=0;t<o.length;t++)e===o[t].firstElementChild&&r()}))},r=function(){var e,t=document.querySelector(".popup"),n=document.querySelectorAll(".popup-btn"),o=document.querySelector(".popup-content"),r=0,a=function(){r+=.05,o.style.opacity=r,t.style.display="block",r>=1&&(clearInterval(e),r=0)};n.forEach((function(n){n.addEventListener("click",(function(){window.innerWidth>768?e=setInterval(a,20):t.style.display="block"}))})),t.addEventListener("click",(function(n){var o=n.target;o.classList.contains("popup-close")?(t.style.display="none",clearInterval(e)):(o=o.closest(".popup-content"))||(t.style.display="none")}))},a=function(){var e=document.querySelector(".service-header"),t=e.querySelectorAll(".service-header-tab"),n=document.querySelectorAll(".service-tab");e.addEventListener("click",(function(e){var o=e.target;(o=o.closest(".service-header-tab"))&&t.forEach((function(e,r){e===o&&function(e){for(var o=0;o<n.length;o++)e===o?(t[o].classList.add("active"),n[o].classList.remove("d-none")):(t[o].classList.remove("active"),n[o].classList.add("d-none"))}(r)}))}))},c=function(){var e,t=document.querySelectorAll(".portfolio-item"),n=(document.querySelectorAll(".portfolio-btn"),document.querySelector(".portfolio-content")),o=document.getElementsByClassName("portfolio-dots")[0],r=0;!function(){for(var e=0;e<t.length;e++){var n=document.createElement("li");n.classList.add("dot"),o.appendChild(n),0===e&&n.classList.add("dot-active")}}();var a=document.querySelectorAll(".dot"),c=function(e,t,n){e[t].classList.remove(n)},u=function(e,t,n){e[t].classList.add(n)},l=function(){c(t,r,"portfolio-item-active"),c(a,r,"dot-active"),++r>=t.length&&(r=0),u(t,r,"portfolio-item-active"),u(a,r,"dot-active")},i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;e=setInterval(l,t)};n.addEventListener("click",(function(e){e.preventDefault();var n=e.target;n.matches(".portfolio-btn, .dot")&&(c(t,r,"portfolio-item-active"),c(a,r,"dot-active"),n.matches("#arrow-right")?r++:n.matches("#arrow-left")?r--:n.matches(".dot")&&a.forEach((function(e,t){e===n&&(r=t)})),r>=t.length?r=0:r<0&&(r=t.length-1),u(t,r,"portfolio-item-active"),u(a,r,"dot-active"))})),n.addEventListener("mouseover",(function(t){(t.target.matches(".portfolio-btn")||t.target.matches(".dot"))&&clearInterval(e)})),n.addEventListener("mouseout",(function(e){(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&i()})),i(1500)},u=function(){var e=document.getElementById("command"),t=document.querySelectorAll(".command__photo"),n=[];e.addEventListener("mouseover",(function(e){for(var o=e.target,r=0;r<t.length;r++)o===t[r]&&(n[r]=e.target.src,e.target.src=e.target.dataset.img)})),e.addEventListener("mouseout",(function(e){for(var o=e.target,r=0;r<t.length;r++)o===t[r]&&(e.target.src=n[r])}))},l=function(e){document.querySelector(e).querySelectorAll("input").forEach((function(e){"user_name"===e.getAttribute("name")&&(e.addEventListener("input",(function(){e.value=e.value.replace(/[^а-яё \-]/gi,"")})),e.addEventListener("blur",(function(){e.value=e.value.toLowerCase(),e.value=e.value.replace(/( |^)[а-яё]/g,(function(e){return e.toUpperCase()})),e.value=e.value.replace(/\s+/g," "),e.value=e.value.replace(/\-+/g,"-"),e.value=e.value.replace(/^\s*/,"")}))),"user_email"===e.getAttribute("name")&&e.addEventListener("input",(function(){e.value=e.value.replace(/[^a-z@.!~*'\_\-]/gi,"")})),"user_phone"===e.getAttribute("name")&&e.addEventListener("input",(function(){e.value=e.value.replace(/[^0-9\+]/g,"")})),"user_message"===e.getAttribute("name")&&(e.addEventListener("input",(function(){e.value=e.value.replace(/[^а-яё0-9 \.,!\-]/gi,"")})),e.addEventListener("blur",(function(){e.value=e.value.replace(/\s+/g," "),e.value=e.value.replace(/\-+/g,"-"),e.value=e.value.replace(/^\s*/,"")})))}))},i=function(e){document.querySelectorAll(e).forEach((function(e){e.addEventListener("input",(function(){e.value=e.value.replace(/\D/g,"")}))}))},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=document.querySelector(".calc-block"),n=document.querySelector(".calc-type"),o=document.querySelector(".calc-square"),r=document.querySelector(".calc-day"),a=document.querySelector(".calc-count"),c=document.getElementById("total"),u=function(){var t=0,u=1,l=1,i=n.options[n.selectedIndex].value,s=+o.value;a.value>1&&(u+=(a.value-1)/10),r.value&&r.value<5?l*=2:r.value&&r.value<10&&(l*=1.5),i&&s&&(t=Math.round(e*i*s*u*l));var d,v,f,m,p;c.textContent=0,v=(d={duration:1e3,timing:function(e){return e},draw:function(e){c.textContent=Math.floor(e*t)}}).timing,f=d.draw,m=d.duration,p=performance.now(),requestAnimationFrame((function e(t){var n=(t-p)/m;n>1&&(n=1);var o=v(n);f(o),n<1&&requestAnimationFrame(e)}))};t.addEventListener("change",(function(e){var t=e.target;t!==n&&t!==o&&t!==r&&t!==a||u()}))},d=function(e,t){var n=document.getElementById(e),o=document.createElement("div");o.style.cssText=t,n.addEventListener("submit",(function(e){e.preventDefault(),n.appendChild(o),o.textContent="Загрузка...";var t=new FormData(n),r={};t.forEach((function(e,t){r[t]=e}));var a;(a=r,fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a),credentials:"include"})).then((function(e){if(200!==e.status)throw new Error("status network not 200");console.log(e),o.textContent="Спасибо! Мы скоро с вами свяжемся!",n.reset(),setTimeout((function(){o.textContent=""}),4e3)})).catch((function(e){o.textContent="Что-то пошло не так...",console.error(e)}))}))};(function(e){var t,n=document.querySelector("#timer-hours"),o=document.querySelector("#timer-minutes"),r=document.querySelector("#timer-seconds");function a(e){return e<10?e="0"+e:e}t=setInterval((function(){var c,u,l,i,s=((i=(new Date(e).getTime()-(new Date).getTime())/1e3)>0?(c=a(Math.floor(i%60)),u=a(Math.floor(i/60%60)),l=a(Math.floor(i/60/60))):(c="00",u="00",l="00"),{timeRemaning:i,hours:l,minutes:u,seconds:c});n.textContent=s.hours,o.textContent=s.minutes,r.textContent=s.seconds,s.timeRemaning<0&&clearInterval(t)}),1e3)})("8 may 2021"),o(),r(),a(),c(),u(),l("#form1"),l("#form2"),l("#form3"),i(".calc-item > input"),s(100),d("form1","font-size: 2rem;"),d("form2","font-size: 2rem;"),d("form3","font-size: 2rem; color: white;")}]);